---
title: Java类加载
layout: default
parent: JVM
---


# Java类加载
{: .no_toc }




1. TOC
{:toc}




## Java的类加载机制：





> 类的加载只能被加载一次吗？（==被同一个类的加载器加载一次==。类的加载有一个命名空间，类和类的加载器有一个双向引用的关系）
>
> Java 的类加载器使用不同的命名空间隔离不同类加载器加载的类。也就是说，**即使两个类有相同的名字**，如果它们是由**不同的类加载器**加载的，它们会被视为**不同的类**。



加载到内存中的类叫做类模板，类模板放在方法区。类的引用在栈里面，类的实例在堆里面



## Java的类加载过程：



**Class类的构造方法是私有的，只有JVM能够创建。**





永久代和元空间







## 类的加载器







**ClassLoader**

loadClass方法和findClass方法：



findClass方法是一个空实现，需要重写，这个是具体加载类的一个过程。findClass方法调用defineClass实现类的加载，调用了很多本地方法（native）实现类加载的逻辑。





## 双亲委派







## 自定义类的加载器







## 避免双亲委派







打破双亲委派